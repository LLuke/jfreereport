<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE report PUBLIC "-//JFreeReport//DTD report definition//EN//simple"
                        "http://jfreereport.sourceforge.net/report.dtd">
<!--

  Defined fields for this TableModel:

  0: "name"   = String;
  1: "street" = String;
  2: "town"   = String;
  3: "productcode" = String;
  4: "productname" = String;
  5: "count"  = Integer;
  6: "price"  = Double;
  7: "total"  = Double (is calculated inside the model);
    else

 -->
<!--
  ChangeLog:
   2002-May-20: Adjusted the width of 0 to be "100%". The parser does translate values of 0 to
                the full width, but will issue at least a warning. The "Thankyouforyourorder"
                field now uses multiple lines and uses the autolinebreak capabilities of TextElement.

-->
<report name="Invoice"  pageformat="A4" topmargin="70" leftmargin="70" bottommargin="70" rightmargin="70">
  <configuration>
    <property name="org.jfree.report.modules.output.pageable.pdf.Encoding">Identity-H</property>
    <property name="org.jfree.report.modules.output.pageable.pdf.EmbedFonts">true</property>
    <property name="org.jfree.report.targets.table.TableWriter.SheetNameFunction">sheetNameExpression</property>
  </configuration>
<!--
  Needs some better control when to display the page header. Group should be able to declare whether a
  pageheader should be displayed or not

  <pageheader onfirstpage="false" height="17" fontname="SansSerif" fontstyle="plain" fontsize="11">
    <label x="0" y="0" width="450" height="12" alignment="right">Salingers Bookstore - you'll get what you deserve</label>
    <line  x1="0" y1="15" x2="0" y2="15" weight="0.5"/>
  </pageheader>
  <pageheader height="40"/>
  <pagefooter height="0"/>
 -->
  <groups>
    <group name="Customer">
      <groupheader height="355" fontname="SansSerif" fontstyle="plain" fontsize="11" pagebreak="true">
        <label name="Line1" x="0" y="12" width="200" height="12" alignment="left">Salingers Bookstore</label>
        <label name="Line2" x="0" y="24" width="200" height="12" alignment="left">19a Hollow Road</label>
        <label name="Line3" x="0" y="48" width="200" height="12" alignment="left">9999 Boston</label>
        <!-- Silly demo of JFreeReports Image Capabilies. Uses WMF, JPG, GIF or PNG files as source -->
        <imageref x="200" y="48" width="100" height="90" src="anim0002.wmf" name="logo" dynamic="false" scale="true" keepAspectRatio="false"/>
        <string-field name="FName" x="0" y="84" width="200" height="12" alignment="left" fieldname="name"/>
        <string-field name="FStreet" x="0" y="96" width="200" height="12" alignment="left" fieldname="street"/>
        <string-field name="FTown" x="0" y="120" width="200" height="12" alignment="left" fieldname="town"/>
        <rectangle name="Rect" x="0" y="0" width="100%" height="100%" color="#0000FF" draw="true" fill="false"/>
        <string-field name="Date" x="0" y="224" width="100%" height="12" alignment="right" fontstyle="plain" fieldname="dateexpression"/>
        <label name="Customer" x="0" y="290" width="450" height="12" alignment="left"
          fontname="Arial Unicode MS" fontstyle="plain" fontsize="11"
            >Dear customer,</label>
<!--        >Dear customer, (Unicode Test 1: &#x30c4;&#x30fc;&#x30eb;&#x3068;&#x30e6;&#x30fc;&#x30c6;&#x30a3;&#x30ea;&#x30c6;&#x30a3;)</label> -->
        <label name="Received" x="0" y="314" width="450" height="12" alignment="left"
        >We received your order and will deliver the following articles to your address:</label>
        <label name="LCode" x="0" y="340" width="80" height="12" alignment="left">Code</label>
        <label name="LProd" x="100" y="340" width="200" height="12" alignment="left">Product</label>
        <label name="LCount" x="300" y="340" width="50" height="12" alignment="left">Count</label>
        <label name="LPrice" x="350" y="340" width="50" height="12" alignment="left">Price</label>
        <label name="LTotal" x="400" y="340" width="50" height="12" alignment="left">Total</label>
        <line name="line_end" x1="0" y1="353" x2="0" y2="353" weight="0.5"/>
      </groupheader>
      <groupfooter height="0" fontname="SansSerif" fontstyle="plain" fontsize="11" pagebreak="false">
        <rectangle x="0" y="0" width="100%" height="100%" color="#0000FF" draw="true" fill="false"/>
        <line x1="0" y1="10" x2="0" y2="10" weight="0.5"/>
        <label x="200" y="20" width="200" height="12" alignment="left">Total Sum of</label>
        <number-field x="400" y="20" width="70" height="12" alignment="left" format="'$' #,##0.00" fieldname="totalsum"/>
        <line x1="200" y1="34" x2="450" y2="34" weight="0.5"/>
        <line x1="200" y1="37" x2="450" y2="37" weight="0.5"/>
        <label name="trace" x="0" y="84" width="100%" height="0" alignment="left" fontname="Arial Unicode MS" dynamic="true" vertical-alignment="top"
>!We !thank you for your order and hope to see you soon again. Please pay your invoice within the next 10 days.
asdasd
(2 blank lines)
asdasdasd
asdasd
Yours sincerely, (Unicode Test 2: &#x6e96;&#x53d7;&#x4fdd;&#x4eba;)



John W. Who, Salesman</label>
       </groupfooter>
      <fields>
        <field>name</field>
        <field>street</field>
        <field>town</field>
      </fields>
    </group>
  </groups>

  <items height="12">
    <string-field x="0" y="0" width="50" height="12" alignment="left" fieldname="productcode"/>
    <string-field x="70" y="0" width="230" height="12" alignment="left" fieldname="productname"/>
    <number-field x="300" y="0" width="50" height="12" alignment="left" format="#,##0" fieldname="count"/>
    <number-field x="350" y="0" width="50" height="12" alignment="left" format="'$' #,##0.00" fieldname="price"/>
    <number-field x="400" y="0" width="70" height="12" alignment="left" format="'$' #,##0.00" fieldname="total"/>
  </items>
  <functions>
    <expression name="sheetNameExpression" class="org.jfree.report.function.TextFormatExpression">
      <properties>
        <property name="pattern">{0}, {1}</property>
        <property name="0">name</property>
        <property name="1">town</property>
      </properties>
    </expression>
    <expression name="dateexpression" class="org.jfree.report.function.TextFormatExpression">
      <properties>
        <property name="pattern">Invoice for your order from {0, date,EEE, MMM d, yyyy}</property>
        <property name="0">report.date</property>
      </properties>
    </expression>
    <function name="totalsum" class="org.jfree.report.function.ItemSumFunction">
      <properties>
        <property name="field">total</property>
        <property name="group">Customer</property>
      </properties>
    </function>
    <property-ref name="report.date"/>
  </functions>
</report>
